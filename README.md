# ğŸ“… å®šæœŸã‚¿ã‚¹ã‚¯ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼

å®šæœŸçš„ãªç”³è«‹æ¥­å‹™ãªã©ã®ã‚¿ã‚¹ã‚¯ã‚’ç®¡ç†ã—ã€æœŸé™å‰ã«è‡ªå‹•ã§GitHub Issueã‚’ä½œæˆã—ã¦ãƒªãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ğŸ¯ ç‰¹å¾´

- **è‡ªå‹•ãƒªãƒã‚¤ãƒ³ãƒ‰**: æœŸé™ã®30æ—¥å‰ã«è‡ªå‹•ã§Issueã‚’ä½œæˆ
- **è‡ªå‹•æ—¥ä»˜æ›´æ–°**: Issueã‚’closeã™ã‚‹ã¨è‡ªå‹•çš„ã«æ¬¡å›æ—¥ç¨‹ã‚’è¨ˆç®—ãƒ»æ›´æ–°
- **ã‚·ãƒ³ãƒ—ãƒ«ãªè¨­å®š**: YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚¿ã‚¹ã‚¯ã‚’ç®¡ç†
- **è»½é‡å®Ÿè£…**: Deno + TypeScriptã§å¤–éƒ¨ä¾å­˜ãªã—

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
reminder-tasks/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ check-reminders.yml    # æ¯æ—¥ãƒªãƒã‚¤ãƒ³ãƒ‰ãƒã‚§ãƒƒã‚¯
â”‚       â””â”€â”€ update-completed.yml   # Issueå®Œäº†æ™‚ã®æ›´æ–°
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ check_tasks.ts             # ãƒªãƒã‚¤ãƒ³ãƒ‰ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ update_task.ts             # æ—¥ä»˜æ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ tasks.yml                      # ã‚¿ã‚¹ã‚¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ README.md
```

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ

ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚

### 2. GitHub Actionsã®æ¨©é™è¨­å®š

ãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®šã§ã€GitHub Actionsã«issueã®ä½œæˆã¨ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ã®æ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ã€‚

1. ãƒªãƒã‚¸ãƒˆãƒªã® **Settings** > **Actions** > **General** ã¸ç§»å‹•
2. **Workflow permissions** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ä»¥ä¸‹ã‚’é¸æŠï¼š
   - âœ… Read and write permissions
   - âœ… Allow GitHub Actions to create and approve pull requests

### 3. ã‚¿ã‚¹ã‚¯ã®è¿½åŠ 

`tasks.yml` ã«ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã—ã¾ã™ï¼š

```yaml
tasks:
  - name: "å»ºè¨­æ¥­è¨±å¯æ›´æ–°ç”³è«‹"
    interval_months: 60
    last_completed: "2024-01-15"
    next_due: "2029-01-15"
    description: "å»ºè¨­æ¥­è¨±å¯ã®æ›´æ–°ç”³è«‹æ‰‹ç¶šã"
    
  - name: "åŠ´åƒä¿é™ºå¹´åº¦æ›´æ–°"
    interval_months: 12
    last_completed: "2024-06-01"
    next_due: "2025-06-01"
    description: "åŠ´åƒä¿é™ºã®å¹´åº¦æ›´æ–°æ‰‹ç¶šã"

settings:
  reminder_days_before: 30
  timezone: "Asia/Tokyo"
```

## ğŸ“ ä½¿ã„æ–¹

### ã‚¿ã‚¹ã‚¯ã®è¿½åŠ 

æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹å ´åˆã€`tasks.yml` ã«ä»¥ä¸‹ã®å½¢å¼ã§è¿½è¨˜ã—ã¾ã™ï¼š

```yaml
- name: "ã‚¿ã‚¹ã‚¯å"
  interval_months: 12            # å®Ÿè¡Œé–“éš”ï¼ˆæœˆæ•°ï¼‰
  last_completed: "2024-01-15"   # å‰å›å®Œäº†æ—¥
  next_due: "2025-01-15"         # æ¬¡å›æœŸé™
  description: "ã‚¿ã‚¹ã‚¯ã®èª¬æ˜"
```

### è‡ªå‹•ãƒªãƒã‚¤ãƒ³ãƒ‰

- æ¯æ—¥åˆå‰9æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰ã«è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- æœŸé™ã®30æ—¥å‰ã«ãªã‚‹ã¨IssueãŒè‡ªå‹•ä½œæˆã•ã‚Œã¾ã™
- Issueã«ã¯ `reminder` ã¨ `task` ãƒ©ãƒ™ãƒ«ãŒä»˜ãã¾ã™

### ã‚¿ã‚¹ã‚¯ã®å®Œäº†

1. ä½œæˆã•ã‚ŒãŸIssueã‚’ç¢ºèª
2. ã‚¿ã‚¹ã‚¯ã‚’å®Œäº†ã—ãŸã‚‰Issueã‚’ **Close** ã™ã‚‹
3. è‡ªå‹•çš„ã«ä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
   - å®Œäº†æ—¥ãŒ `last_completed` ã«è¨˜éŒ²
   - æ¬¡å›æœŸé™ãŒè‡ªå‹•è¨ˆç®—ã•ã‚Œ `next_due` ã«è¨­å®š
   - `tasks.yml` ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã‚³ãƒŸãƒƒãƒˆ

## âš™ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ãƒªãƒã‚¤ãƒ³ãƒ‰ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å¤‰æ›´

`tasks.yml` ã® `settings` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å¤‰æ›´ã§ãã¾ã™ï¼š

```yaml
settings:
  reminder_days_before: 30  # 30æ—¥å‰ â†’ ä»»æ„ã®æ—¥æ•°ã«å¤‰æ›´å¯èƒ½
  timezone: "Asia/Tokyo"
```

### ãƒã‚§ãƒƒã‚¯é »åº¦ã®å¤‰æ›´

`.github/workflows/check-reminders.yml` ã® cron ã‚’ç·¨é›†ã—ã¾ã™ï¼š

```yaml
on:
  schedule:
    - cron: '0 9 * * *'  # æ¯æ—¥9æ™‚ â†’ ä»»æ„ã®æ™‚é–“ã«å¤‰æ›´å¯èƒ½
```

cronå½¢å¼ã®ä¾‹ï¼š
- `0 9 * * *` - æ¯æ—¥9æ™‚
- `0 9 * * 1` - æ¯é€±æœˆæ›œæ—¥9æ™‚
- `0 9 1 * *` - æ¯æœˆ1æ—¥9æ™‚

## ğŸ”§ ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ãƒ†ã‚¹ãƒˆ

Denoã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ã‚¹ãƒˆã§ãã¾ã™ï¼š

```bash
# ãƒªãƒã‚¤ãƒ³ãƒ‰ãƒã‚§ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
deno run --allow-read --allow-net --allow-env scripts/check_tasks.ts

# æ—¥ä»˜æ›´æ–°ã®ãƒ†ã‚¹ãƒˆï¼ˆç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼‰
ISSUE_TITLE="ğŸ“… åŠ´åƒä¿é™ºå¹´åº¦æ›´æ–° - æœŸé™é€šçŸ¥" \
COMPLETED_DATE="2024-06-15" \
deno run --allow-read --allow-write --allow-env scripts/update_task.ts

# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
deno test --allow-write --allow-read scripts/check_tasks.test.ts
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

